<section class="p-8">
    <a 
        href="/objects" 
        class="
            rounded p-2
            active:ring-blue-300 active:ring-2
            bg-gray-100 hover:text-gray-700 hover:bg-gray-200 
            flex gap-x-2 items-center
            w-fit
        "
    >
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m8 5l-5 5l5 5"/><path d="M3 10h8c5.523 0 10 4.477 10 10v1"/></g></svg>
        back
    </a>

    <br/>
    
    <form class="shadow-sm p-2 rounded my-3 border">
        <fieldset class="rounded p-2 border-0 w-full">
            <legend>
                <h2 class="font-light text-2xl">
                    Object Details
                </h2>
            </legend>
            <hr/>
            <h3 class="font-light">ID:  {{id}}</h3>
            <br/>
            <div class="flex flex-col">
                <label for="name" class="font-light text-lg">
                    Name
                    <span class="text-red-400">
                        *
                    </span>
                    <span class="text-red-400 text-sm">
                        {{
                            name.errors?.['required']  && (name.dirty || name.touched) ? 
                            'This is a required field' : 
                            ' '
                        }}
                    </span>
                </label>
                <input id="name" type="text" [formControl]="name" placeholder="Enter name..."/>
            </div>
    
            <br/>
    
            <div class="flex flex-col">
                <label for="description" class="font-light text-lg">
                    Description
                    <span class="text-red-400">
                        *
                    </span>
                    <span class="text-red-400 text-sm">
                        {{
                            description.errors?.['required']  && (description.dirty || description.touched) ? 
                            'This is a required field' : 
                            ' '
                        }}
                    </span>
                </label>
                <textarea id="description" [formControl]="description" placeholder="Enter description..."></textarea>
            </div>
        </fieldset>
    </form>
    <div class="flex justify-end p-2 gap-x-2">
        <button 
        class="
            p-2 rounded 
            transition-all 
            active:ring-blue-300 active:ring-2
            bg-gray-100 hover:text-gray-700 hover:bg-gray-200 
        " 
        (click)="onSubmit()"
        >
        Update Object
        </button>
        <button 
            class="
                p-2 rounded 
                transition-all 
                text-red-500 hover:text-white 
                bg-red-100 hover:bg-red-200 
                active:ring-red-300 active:ring-2 
            "
            (click)="onConfirmDelete()"
        >
            Delete Object
        </button>

        <p-toast position="bottom-center" key="confirm-delete" (onClose)="onCancelDelete()" [baseZIndex]="5000">
            <ng-template let-message pTemplate="message" class="border">
                <div class="flex flex-col w-full">
                    <div class="text-center mx-auto">
                        <h4 class="text-lg font-bold">{{message.summary}}</h4>
                        <p>{{message.detail}}</p>
                    </div>
                    <br/>
                    <div class="flex gap-x-2">
                        <div 
                            class="
                                w-1/2 text-center
                                p-2 rounded
                                bg-red-100 hover:bg-red-200 
                                active:ring-red-300 active:ring-2 
                                text-red-500 hover:text-white 
                                transition-all
                            "   
                            label="Yes"
                            type="button" 
                            (click)="onDelete()" 
                        >
                            Confirm
                        </div>
                        <button 
                            class="
                                w-1/2 text-center
                                p-2 rounded
                                text-gray-500
                                bg-gray-100 hover:bg-gray-200 
                                active:ring-blue-300 active:ring-2 
                                transition-all
                            "
                            label="No"
                            type="button" 
                            (click)="onCancelDelete()" 
                        >
                            Cancel
                        </button>
                    </div>
                </div>
            </ng-template>
        </p-toast>
    </div>
</section>
